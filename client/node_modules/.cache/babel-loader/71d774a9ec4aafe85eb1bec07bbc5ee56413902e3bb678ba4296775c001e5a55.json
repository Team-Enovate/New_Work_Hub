{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/USER/Downloads/New_Enovate/New_Enovate/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/USER/Downloads/New_Enovate/New_Enovate/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/USER/Downloads/New_Enovate/New_Enovate/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{contractABI2,contractAddress2}from\"../utils/constants2\";import{contractAddress1}from\"../utils/constants1\";import Navbar from\"./Navbar\";import Footer from\"./footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _require=require(\"ethers\"),ethers=_require.ethers;function Admin(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),transferValue=_useState2[0],setTransferValue=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),transferSuccess=_useState4[0],setTransferSuccess=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),provider=_useState6[0],setProvider=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),signer=_useState8[0],setSigner=_useState8[1];useEffect(function(){function loadProvider(){return _loadProvider.apply(this,arguments);}function _loadProvider(){_loadProvider=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var provider,signer;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:// load provider (example: using metamask)\nprovider=new ethers.providers.Web3Provider(window.ethereum);signer=provider.getSigner();setProvider(provider);setSigner(signer);case 4:case\"end\":return _context.stop();}},_callee);}));return _loadProvider.apply(this,arguments);}if(window.ethereum){loadProvider();}else{console.error(\"Non-Ethereum browser detected. You should consider trying MetaMask!\");}},[]);function handleTransfer(){return _handleTransfer.apply(this,arguments);}function _handleTransfer(){_handleTransfer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var contract,transferValues,tx;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!(!provider||!signer)){_context2.next=3;break;}alert(\"Please connect to Ethereum network\");return _context2.abrupt(\"return\");case 3:contract=new ethers.Contract(contractAddress2,contractABI2,signer);_context2.prev=4;transferValues=ethers.utils.parseEther(transferValue);_context2.next=8;return contract.transfer(contractAddress1,transferValues);case 8:tx=_context2.sent;_context2.next=11;return tx.wait();case 11:setTransferSuccess(true);_context2.next=18;break;case 14:_context2.prev=14;_context2.t0=_context2[\"catch\"](4);console.error(_context2.t0);alert(\"Error: \"+_context2.t0.message);case 18:case\"end\":return _context2.stop();}},_callee2,null,[[4,14]]);}));return _handleTransfer.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col min-h-screen\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-grow bg-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-5xl mx-auto py-12 px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-4\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900 mb-4\",children:\"Transfer Tokens\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"transferAmount\",className:\"block text-gray-700 font-bold mb-2\",children:\"Amount to Transfer(ENVT)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"mintAmount\",type:\"number\",value:transferValue,onChange:function onChange(e){return setTransferValue(e.target.value);},className:\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleTransfer,className:\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",children:\"Transfer\"}),transferSuccess&&/*#__PURE__*/_jsx(\"p\",{className:\"text-green-500 mt-2\",children:\"Tokens successfully transfered!\"})]})})]})}),/*#__PURE__*/_jsx(Footer,{})]});}export default Admin;","map":{"version":3,"names":["React","useState","useEffect","contractABI2","contractAddress2","contractAddress1","Navbar","Footer","jsx","_jsx","jsxs","_jsxs","_require","require","ethers","Admin","_useState","_useState2","_slicedToArray","transferValue","setTransferValue","_useState3","_useState4","transferSuccess","setTransferSuccess","_useState5","_useState6","provider","setProvider","_useState7","_useState8","signer","setSigner","loadProvider","_loadProvider","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","providers","Web3Provider","window","ethereum","getSigner","stop","console","error","handleTransfer","_handleTransfer","_callee2","contract","transferValues","tx","_callee2$","_context2","alert","abrupt","Contract","utils","parseEther","transfer","sent","wait","t0","message","className","children","htmlFor","id","type","value","onChange","e","target","onClick"],"sources":["C:/Users/USER/Downloads/New_Enovate/New_Enovate/client/src/components/Admin.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {contractABI2,contractAddress2} from \"../utils/constants2\";\r\nimport {contractAddress1} from \"../utils/constants1\";\r\n\r\nimport Navbar from \"./Navbar\";\r\nimport Footer from \"./footer\";\r\n\r\nconst { ethers } = require(\"ethers\");\r\n\r\nfunction Admin() {\r\n  const [transferValue, setTransferValue] = useState(\"\");\r\n  const[transferSuccess,setTransferSuccess]=useState(false);\r\n\r\n\r\n\r\n  const [provider, setProvider] = useState(null);\r\n  const [signer, setSigner] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function loadProvider() {\r\n      // load provider (example: using metamask)\r\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n      const signer = provider.getSigner();\r\n      setProvider(provider);\r\n      setSigner(signer);\r\n    }\r\n    if (window.ethereum) {\r\n      loadProvider();\r\n    } else {\r\n      console.error(\r\n        \"Non-Ethereum browser detected. You should consider trying MetaMask!\"\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  async function handleTransfer() {\r\n    if (!provider || !signer) {\r\n      alert(\"Please connect to Ethereum network\");\r\n      return;\r\n    }\r\n    const contract = new ethers.Contract(\r\n      contractAddress2,\r\n      contractABI2,\r\n      signer\r\n    );\r\n    try {\r\n      const transferValues=ethers.utils.parseEther(transferValue)\r\n      const tx = await contract.transfer(contractAddress1, transferValues);\r\n      await tx.wait();\r\n      setTransferSuccess(true);\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert(\"Error: \" + error.message);\r\n    }\r\n  }\r\n\r\n \r\n  return (\r\n    <div className=\"flex flex-col min-h-screen\">\r\n      <Navbar />\r\n      <div className=\"flex-grow bg-gray-100\">\r\n        <div className=\"max-w-5xl mx-auto py-12 px-4 sm:px-6 lg:px-8\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">Admin</h1>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n              <h2 className=\"text-xl font-bold text-gray-900 mb-4\">\r\n                Transfer Tokens\r\n              </h2>\r\n              <div className=\"mb-4\">\r\n                <label\r\n                  htmlFor=\"transferAmount\"\r\n                  className=\"block text-gray-700 font-bold mb-2\"\r\n                >\r\n                  Amount to Transfer(ENVT)\r\n                </label>\r\n                <input\r\n                  id=\"mintAmount\"\r\n                  type=\"number\"\r\n                  value={transferValue}\r\n                  onChange={(e) => setTransferValue(e.target.value)}\r\n                  className=\"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                />\r\n    \r\n              </div>\r\n              <button\r\n                onClick={handleTransfer}\r\n                className=\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n              >\r\n                Transfer\r\n              </button>\r\n              {transferSuccess && (\r\n                <p className=\"text-green-500 mt-2\">\r\n                  Tokens successfully transfered!\r\n                </p>\r\n              )}\r\n            </div>\r\n            \r\n            \r\n            \r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\nexport default Admin;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}